<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml" xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core" xmlns:ui="http://java.sun.com/jsf/facelets"
	template="WEB-INF/templates/main.xhtml" xmlns:p="http://primefaces.org/ui">

	<ui:define name="metadata">
		<f:event listener="#{takeExamController.initConversation()}" type="preRenderView" />
		<f:metadata>
			<f:viewParam name="courseName" value="#{takeExamController.courseName}" />
			<f:viewAction action="#{takeExamController.initAfterViewParams}" />
		</f:metadata>
	</ui:define>

	<ui:define name="content">
		<h:form>
			<p:panelGrid columns="2" >
				<f:facet name="header">
					<h:outputText value="#{takeExamController.course.name} (Exam-Id: #{takeExamController.exam.id})" />
				</f:facet>

				<h:outputText value="Min Points" />
				<h:outputText value="#{takeExamController.course.minScoreToPass}" />

				<h:outputText value="Duration" />
				<h:outputText value="#{takeExamController.course.allowedDuration}" converter="#{durationMinutesConverter}" />
				
				<h:outputText value="Questions" />
				<h:outputText value="#{takeExamController.exam.examQuestions.size()}"/>
			</p:panelGrid>
			
			<p:commandButton value="#{msg['start']}" action="#{takeExamController.startExam()}" />
			<p:button value="#{msg['back']}" outcome="#{takeExamController.backToCourses()}" />
		</h:form>
	</ui:define>
</ui:composition>

